{{ include('../packages/kmod/README.md') }}

## Настройка

```bash 
{{ include('../packages/kmod/configure') }}
```

### Значения параметров

`--with-xz, --with-zlib, --with-zstd`

Параметры позволяют `Kmod` обрабатывать сжатые модули ядра соответствующим алгоритмом сжатия.

## Сборка

```bash 
{{ include('../packages/kmod/build') }}
```

## Тестирование

Пакет не имеет тестов, которые можно запустить непосредственно сейчас. Необходимо дополнительно установить `git`, при этом, некоторые тесты также не будут выполнены вне репозитория.

## Установка

```bash 
{{ include('../packages/kmod/install') }}
```

Необходимо создать символические ссылки (симлинки) для совместимости с `Module-Init-Tools` (предыдущая реализация программы обработки модулей ядра).

```bash 
{{ include('../packages/kmod/postinstall') }}
```

> Заметьте, что эту команду не следует вводить, если вы используете систему с раздельной структурой каталогов, в таком случае перейдите к следующему шагу.

## При раздельной структуре каталогов

Добавьте опции `--bindir=/bin` и `--with-rootlibdir=/lib` скрипту `configure` из пункта "Настройка".

Измените предыдущую команду (создающую симлинки для совместимости с `Module-Init-Tools`) и создайте необходимую ссылку в `/bin`:

```bash 
{{ include('../packages/kmod/cldirs') }}
```

## Для multilib

### Очистка

Очистите предыдущую сборку, но сохраните страницы руководства, так как они не могут быть воссозданы, поскольку пакет `xsltproc` не установлен:

```bash 
{{ include('../packages/kmod/multi_prepare') }}
```

### Подготовка

```bash 
{{ include('../packages/kmod/multi_configure') }}
```

### Сборка

```bash 
{{ include('../packages/kmod/multi_build') }}
```

### Установка

```bash 
{{ include('../packages/kmod/multi_install') }}
```


